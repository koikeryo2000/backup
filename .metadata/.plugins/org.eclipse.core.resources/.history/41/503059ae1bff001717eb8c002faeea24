package action;

import java.util.Map;

import org.apache.struts2.interceptor.SessionAware;

import com.opensymphony.xwork2.ActionSupport;

import dao.ShowUserInformationDAO;
import dto.UserInformationDTO;

public class GoUserInformationAction extends ActionSupport implements SessionAware {

	public Map<String, Object> session;



	private UserInformationDTO userInformationDTO = new UserInformationDTO();

	private  ShowUserInformationDAO showUserInformationDAO = new ShowUserInformationDAO();

	public String execute(){
		String result = SUCCESS;

		userInformationDTO = showUserInformationDAO.getUserInfo(session.get("loginUserId").toString());

		session.put("loginUserId" ,userInformationDTO.getLoginId().toString());
		session.put("loginUserPassword", userInformationDTO.getLoginpass().toString()S);
		session.put("userName", userInformationDTO.getUserName().toString());
		session.put("year", userInformationDTO.getYear().toString());
		session.put("streetAddress", userInformationDTO.getStreetAddress().toString());
		session.put("sex", userInformationDTO.getSex().toString());
		session.put("phoneNumber", userInformationDTO.getPhoneNumber().toString());
		session.put("mailAddress", userInformationDTO.getMailAddress().toString());

		System.out.println("DTOのloginIdの値チェック"+userInformationDTO.getLoginId());

		System.out.println("sessionに値がちゃんとセットされてるかチェック"+session.get("loginUserId"));
		System.out.println("sessionに値がちゃんとセットされてるかチェック"+session.get("phoneNumber"));
		System.out.println("sessionに値がちゃんとセットされてるかチェック"+session.get("mailAddress"));



		return result;

	}

	public Map<String, Object> getSession() {
		return session;
	}

	public void setSession(Map<String, Object> session) {
		this.session = session;
	}

	public UserInformationDTO getUserInformationDTO() {
		return userInformationDTO;
	}

	public void setUserInformationDTO(UserInformationDTO userInformationDTO) {
		this.userInformationDTO = userInformationDTO;
	}

	public ShowUserInformationDAO getShowUserInformationDAO() {
		return showUserInformationDAO;
	}

	public void setShowUserInformationDAO(ShowUserInformationDAO showUserInformationDAO) {
		this.showUserInformationDAO = showUserInformationDAO;
	}
}
