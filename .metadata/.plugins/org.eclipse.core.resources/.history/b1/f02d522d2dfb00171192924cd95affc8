package action;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import com.opensymphony.xwork2.ActionSupport;

import dao.ImageCreateDAO;
import util.DBConnector;

public class ImageAction extends ActionSupport {
private String name;
private File image;

ImageCreateDAO imageCreatedao = new ImageCreateDAO();



public String sql= "INSERT INTO image_upload(NAME,IMAGE) VALUES(?,?)";


public String execute(){
	String result = null;
	System.out.println("値チェック名前"+name);
	System.out.println("値チェック画像"+image);

	imageCreatedao.createImage(name, image);



		result = SUCCESS;


	} catch (SQLException e) {
		e.printStackTrace();
		System.out.println("mysqlのエラー");
	} catch (FileNotFoundException e) {
		e.printStackTrace();
		e.printStackTrace();
		System.out.println("ファイルのエラー");
	}
	try {
		connection.close();
	} catch (Exception e) {

	}

	return result;

}


public String getName() {
	return name;
}


public void setName(String name) {
	this.name = name;
}


public File getImage() {
	return image;
}


public void setImage(File image) {
	this.image = image;
}


public DBConnector getDbConnector() {
	return dbConnector;
}


public void setDbConnector(DBConnector dbConnector) {
	this.dbConnector = dbConnector;
}


public Connection getConnection() {
	return connection;
}


public void setConnection(Connection connection) {
	this.connection = connection;
}


public String getSql() {
	return sql;
}


public void setSql(String sql) {
	this.sql = sql;
}

}
